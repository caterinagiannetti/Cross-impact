CROSSMARKET IMPACT ANALYSIS============================This repository contains the code and data required to replicate the analysis presented in the paper:"Cross-impact and Price Bubbles in Hybrid Financial Markets"by Chapkovski, Cordoni, Giannetti, and Lillo (2025).OBJECTIVE---------To analyze and replicate the experimental results on cross-market impact and bubble formation in hybrid markets with human and algorithmic agents. This includes estimating price impact matrices, analyzing self- and cross-impact effects, and comparing experimental vs. synthetic (simulated) data.CONTENTS--------/data/                      - Contains raw and cleaned datasets from experimental sessions.
- DATA_main.dta 	    - main dataset to compute self and cross-impact
- DATA_HUMAN_NOISE_OFI.dta  - dataset that split OFI measures for humans and noise traders
- DATA_simulated	    - as for main but with simulated agents
- MEX T1&T2.dta		    - raw dataset which contains the entire order book from each session. It can be used to derive general statistics 
- MEX T1&T2_simulated.dta.  - as for MEXT1&T2 but for simulated sessions

analysis_submitted          - Includes Stata `.do` files to replicate tables and figures (main file: `analysis_submitted.do`)./csv/                       - data in css format VARIABLES DESCRIPTION---------------------The key variables in the dataset and used in the Stata `.do` file are:General variables:- `session_id`       : Unique ID for each experimental session.- `period`           : Trading period (1Ð15).- `macro`        : Subintervals within each period (e.g., 27s chunks, total of 5 per period).- `dummy_t1`        : Equals 1 for T1-Separated, 2 for T2-Integrated.- `confusion`        : Dummy = 1 when fundamental values of the two assets are close.Order Flow Imbalance (OFI) measures:- `ofi1`, `ofi2`     : Order flow imbalance for Asset 1 and Asset 2 (total).- `ofi1_hum`, `ofi2_hum` : OFI from human traders.- `ofi1_noise`, `ofi2_noise` : OFI from zero-intelligence (ZI) artificial traders.Returns:- `ret1`, `ret2`: Mid-price returns of Asset 1 and Asset 2 over each subperiod.

Market behavior:- `price1`, `price2` : Average trade price of each asset in the period.- `FV1`, `FV2`       : Fundamental value of Asset 1 and Asset 2 in that round.- `rad1`, `rad2`     : Relative Absolute Deviation from fundamental value (bubble indicator).- `strategy_type`    : Classification of market strategy by session-period (directional, neutral, other).SOURCES-------Order book and transaction data were collected from experimental sessions conducted at the EMBEDS lab (Scuola Superiore Sant'Anna) and through synthetic simulations with ZI and MM agents.REQUIREMENTS------------- Stata 17 or later- Basic knowledge of running `.do` files- All relative paths assume this repo as the working directoryREPLICATION INSTRUCTIONS-------------------------1. Open `analysis_submitted.do` in Stata.2. Make sure all data files are available in the correct `/data/` directory.3. Run the `.do` file to generate all analysis tables (including self- and cross-impact estimates) as shown in the paper.4. Outputs will be saved in `/figures/` or directly in the Results window, depending on the commands.NOTES------ The analysis distinguishes between human and artificial (ZI and MM) players.- Estimation uses Order Flow Imbalance (OFI) and returns to compute a market impact matrix ?.- Experiments involve two treatments:  * T1-Separated (no cross-asset liquidity reallocation)  * T2-Integrated (free liquidity movement across assets)- Additional synthetic market data is used for robustness.CITATION--------If you use this code or data, please cite:"Cross-impact and Price Bubbles in Hybrid Financial Markets", Chapkovski et al., 2025.LICENSE-------MIT License (or specify yours)CONTACT-------For questions, please contact:- francesco.cordoni@rhul.ac.uk- caterina.giannetti@unipi.it